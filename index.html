<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SLP ABU 2030 - Interaktives Branching System</title>
    <style>
        :root {
            --primary: #e62429;
            --secondary: #1e1e1e;
            --accent: #ffd700;
            --bg-dark: #0a0a0a;
            --bg-light: #f5f5f5;
            --text-light: #ffffff;
            --text-dark: #333333;
            --gradient: linear-gradient(135deg, #e62429 0%, #ff6b6b 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: var(--bg-dark);
            color: var(--text-light);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Start Screen */
        .start-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: radial-gradient(ellipse at center, #1a1a1a 0%, #0a0a0a 100%);
        }

        .hero {
            text-align: center;
            animation: fadeIn 1s ease-out;
        }

        .hero h1 {
            font-size: 4rem;
            font-weight: bold;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 3px;
        }

        .hero .tagline {
            font-size: 1.2rem;
            color: var(--accent);
            margin-bottom: 30px;
            font-style: italic;
        }

        .hero .description {
            font-size: 1rem;
            max-width: 600px;
            margin: 0 auto 40px;
            opacity: 0.8;
        }

        /* Buttons */
        .button-group {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 40px;
            font-size: 1.1rem;
            border: none;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            background: var(--secondary);
            color: var(--text-light);
            border: 2px solid var(--primary);
        }

        .btn:hover {
            background: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(230, 36, 41, 0.4);
        }

        .btn:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.2);
            transition: left 0.5s;
        }

        .btn:hover:before {
            left: 100%;
        }

        /* Screens */
        .screen {
            display: none;
            min-height: 100vh;
            padding: 40px 0;
            animation: slideIn 0.5s ease-out;
        }

        .screen.active {
            display: block;
        }

        .screen-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .screen-header h2 {
            font-size: 2.5rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        /* Cards */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .card {
            background: var(--secondary);
            border: 2px solid var(--primary);
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(230, 36, 41, 0.3);
            border-color: var(--accent);
        }

        .card h3 {
            color: var(--accent);
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .card p {
            opacity: 0.8;
            font-size: 0.95rem;
        }

        /* Sprachhandlung Display */
        .sprachhandlung-container {
            background: var(--secondary);
            border: 2px solid var(--primary);
            padding: 30px;
            margin-bottom: 30px;
            border-radius: 8px;
            position: relative;
        }

        .sprachhandlung-header {
            margin-bottom: 25px;
        }

        .sprachhandlung-header h3 {
            color: var(--accent);
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        .sprachhandlung-description {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(230, 36, 41, 0.1);
            border-left: 4px solid var(--primary);
        }

        /* Competence Grid */
        .competence-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .competence-button {
            background: rgba(30, 30, 30, 0.8);
            border: 2px solid var(--primary);
            padding: 20px;
            border-radius: 5px;
            transition: all 0.3s ease;
            cursor: pointer;
            width: 100%;
            text-align: left;
            position: relative;
        }

        .competence-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(230, 36, 41, 0.3);
            border-color: var(--accent);
        }

        .competence-button.active {
            border-color: var(--accent);
            background: rgba(255, 215, 0, 0.05);
        }

        .competence-button h4 {
            color: var(--accent);
            margin: 0;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .competence-preview {
            font-size: 0.9rem;
            opacity: 0.7;
            margin-top: 10px;
        }

        .expand-icon {
            position: absolute;
            right: 20px;
            top: 20px;
            font-size: 1.2rem;
            color: var(--primary);
            transition: transform 0.3s ease;
        }

        .competence-button.active .expand-icon {
            transform: rotate(90deg);
            color: var(--accent);
        }

        .competence-details {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 5px;
            animation: fadeIn 0.3s ease;
        }

        .competence-details.active {
            display: block;
        }

        .competence-list {
            list-style: none;
            margin: 15px 0;
        }

        .competence-list li {
            margin-bottom: 10px;
            padding-left: 20px;
            position: relative;
        }

        .competence-list li:before {
            content: '▸';
            position: absolute;
            left: 0;
            color: var(--primary);
        }

        .competence-meta {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 215, 0, 0.3);
            font-size: 0.9rem;
            color: var(--accent);
        }

        /* Authentic Tasks */
        .tasks-section {
            margin-top: 40px;
            padding: 30px;
            background: rgba(255, 215, 0, 0.05);
            border: 2px solid var(--accent);
            border-radius: 8px;
        }

        .tasks-section h3 {
            color: var(--accent);
            margin-bottom: 20px;
            font-size: 1.5rem;
        }

        .task-card {
            background: rgba(0, 0, 0, 0.5);
            padding: 20px;
            margin-bottom: 15px;
            border-left: 3px solid var(--accent);
            transition: all 0.3s ease;
        }

        .task-card:hover {
            transform: translateX(10px);
            background: rgba(255, 215, 0, 0.1);
        }

        .task-level {
            display: inline-block;
            padding: 3px 8px;
            margin-right: 10px;
            font-size: 0.8rem;
            border-radius: 3px;
        }

        .level-g {
            background: #4caf50;
            color: white;
        }

        .level-e {
            background: #ff9800;
            color: white;
        }

        /* Dashboard Button */
        .dashboard-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: var(--accent);
            color: var(--bg-dark);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 4px 12px rgba(255, 215, 0, 0.4);
            transition: all 0.3s ease;
            z-index: 100;
            animation: pulse 2s infinite;
        }

        .dashboard-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(255, 215, 0, 0.6);
            animation: none;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 4px 12px rgba(255, 215, 0, 0.4);
            }
            50% {
                box-shadow: 0 4px 20px rgba(255, 215, 0, 0.6);
            }
            100% {
                box-shadow: 0 4px 12px rgba(255, 215, 0, 0.4);
            }
        }

        /* Dashboard Modal */
        .dashboard-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            overflow-y: auto;
        }

        .dashboard-modal.active {
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding: 40px 20px;
        }

        .dashboard-content {
            background: var(--secondary);
            border: 2px solid var(--primary);
            max-width: 1400px;
            width: 100%;
            max-height: none;
            overflow-y: visible;
            padding: 40px;
            position: relative;
            margin: auto;
        }

        .dashboard-close {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background: var(--primary);
            color: var(--text-light);
            border: none;
            cursor: pointer;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2001;
        }

        /* Tabs */
        .sprachmodi-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--primary);
            padding-bottom: 10px;
        }

        .tab-btn {
            padding: 10px 25px;
            background: var(--secondary);
            border: 2px solid var(--primary);
            color: var(--text-light);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .tab-btn:hover {
            background: rgba(230, 36, 41, 0.2);
        }

        .tab-btn.active {
            background: var(--primary);
            color: var(--text-light);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Sprachmodus Sections */
        .sprachmodus-section {
            margin-bottom: 40px;
            padding: 25px;
            background: rgba(30, 30, 30, 0.5);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
        }

        .sprachmodus-section h4 {
            color: var(--accent);
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .progression-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .jahr-column {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 5px;
            border: 1px solid var(--primary);
        }

        .jahr-column h5 {
            color: var(--primary);
            margin-bottom: 15px;
            text-align: center;
            font-size: 1.1rem;
        }

        .kompetenz-item {
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
            position: relative;
            transition: all 0.3s ease;
        }

        .kompetenz-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(255, 215, 0, 0.2);
        }

        .kompetenz-item.level-g {
            border-left: 4px solid #4caf50;
        }

        .kompetenz-item.level-e {
            border-left: 4px solid #ff9800;
        }

        .level-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 25px;
            height: 25px;
            background: var(--accent);
            color: var(--bg-dark);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .kompetenz-item p {
            margin: 0 0 10px 0;
            font-weight: 500;
        }

        .kompetenz-item small {
            display: block;
            opacity: 0.7;
            font-size: 0.85rem;
            margin-bottom: 5px;
        }

        .kompetenz-item small:last-child {
            color: var(--accent);
            opacity: 1;
        }

        /* Info Points */
        .info-buttons-container {
            display: flex;
            gap: 20px;
            margin-top: 30px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .info-point-btn {
            padding: 12px 30px;
            background: var(--secondary);
            border: 2px solid var(--accent);
            color: var(--accent);
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
        }

        .info-point-btn:hover {
            background: rgba(255, 215, 0, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
        }

        .info-point-btn.active:hover {
            background: var(--accent);
            transform: translateY(0);
        }

        /* Scaffolds Section */
        .scaffolds-section {
            display: none;
            margin-top: 30px;
            padding: 30px;
            background: rgba(30, 30, 30, 0.3);
            border: 2px solid var(--accent);
            border-radius: 8px;
        }
        
        .scaffolds-section.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .scaffolds-section h3 {
            margin-bottom: 20px;
        }

        .scaffolds-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .scaffold-box {
            background: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 5px;
            border-left: 3px solid var(--primary);
        }

        .scaffold-box h4 {
            color: var(--accent);
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .scaffold-box ul {
            list-style: none;
            padding: 0;
        }

        .scaffold-box li {
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
        }

        .scaffold-box li:before {
            content: '•';
            position: absolute;
            left: 0;
            color: var(--primary);
        }

        /* Zirkularität Section */
        .zirkularitaet-section {
            display: none;
            margin-top: 30px;
            padding: 30px;
            background: rgba(255, 215, 0, 0.05);
            border: 2px solid var(--primary);
            border-radius: 8px;
        }
        
        .zirkularitaet-section.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .zirkularitaet-section h3 {
            margin-bottom: 20px;
        }

        .zirkularitaet-items {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .zirkularitaet-item {
            background: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 5px;
            border-left: 4px solid var(--accent);
            position: relative;
            padding-left: 40px;
        }

        .zirkularitaet-item:before {
            content: '↻';
            position: absolute;
            left: 10px;
            top: 20px;
            color: var(--accent);
            font-size: 1.5rem;
        }

        .zirkularitaet-item strong {
            color: var(--accent);
            display: block;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .zirkularitaet-item p {
            opacity: 0.9;
        }

        /* Navigation */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .nav-btn {
            padding: 10px 25px;
            background: var(--secondary);
            border: 1px solid var(--primary);
            color: var(--text-light);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background: var(--primary);
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .cards-grid {
                grid-template-columns: 1fr;
            }
            
            .competence-grid {
                grid-template-columns: 1fr;
            }
            
            .scaffolds-grid {
                grid-template-columns: 1fr;
            }
            
            .nav-buttons {
                flex-direction: column;
            }
            
            .progression-grid {
                grid-template-columns: 1fr;
            }
            
            .sprachmodi-tabs {
                flex-direction: column;
            }
            
            .tab-btn {
                width: 100%;
            }
            
            .dashboard-content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Start Screen -->
    <div class="start-screen screen active" id="start">
        <div class="container">
            <div class="hero">
                <h1>SLP ABU 2030</h1>
                <p class="tagline">"Die Zukunft der Bildung beginnt heute - Bereit für die intergalaktische Reise?"</p>
                <p class="description">
                    Willkommen im interaktiven Schullehrplan für die Allgemeinbildung. 
                    Navigiere durch Kompetenzen, entdecke Sprachhandlungen und gestalte die Zukunft des Lernens.
                </p>
                <div class="button-group">
                    <button class="btn" onclick="showScreen('eba-years')">EBA</button>
                    <button class="btn" onclick="showScreen('efz-choice')">EFZ</button>
                </div>
            </div>
        </div>
    </div>

    <!-- EBA Years -->
    <div class="screen" id="eba-years">
        <div class="container">
            <div class="screen-header">
                <h2>EBA - Wähle dein Lehrjahr</h2>
            </div>
            <div class="cards-grid">
                <div class="card" onclick="showThemes('eba', 1)">
                    <h3>1. Lehrjahr</h3>
                    <p>Grundlagen und Orientierung im Berufsleben</p>
                </div>
                <div class="card" onclick="showThemes('eba', 2)">
                    <h3>2. Lehrjahr</h3>
                    <p>Vertiefung und Anwendung</p>
                </div>
            </div>
            <div class="nav-buttons">
                <button class="nav-btn" onclick="showScreen('start')">← Zurück zum Start</button>
            </div>
        </div>
    </div>

    <!-- EFZ Choice -->
    <div class="screen" id="efz-choice">
        <div class="container">
            <div class="screen-header">
                <h2>EFZ - Wähle deine Ausbildungsdauer</h2>
            </div>
            <div class="cards-grid">
                <div class="card" onclick="showScreen('efz3-years')">
                    <h3>3-jährige Lehre</h3>
                    <p>Kompakte Berufsausbildung mit Fokus</p>
                </div>
                <div class="card" onclick="showScreen('efz4-years')">
                    <h3>4-jährige Lehre</h3>
                    <p>Erweiterte Ausbildung mit Vertiefung</p>
                </div>
            </div>
            <div class="nav-buttons">
                <button class="nav-btn" onclick="showScreen('start')">← Zurück zum Start</button>
            </div>
        </div>
    </div>

    <!-- EFZ 3 Years -->
    <div class="screen" id="efz3-years">
        <div class="container">
            <div class="screen-header">
                <h2>EFZ 3-jährig - Wähle dein Lehrjahr</h2>
            </div>
            <div class="cards-grid">
                <div class="card" onclick="showThemes('efz3', 1)">
                    <h3>1. Lehrjahr</h3>
                    <p>Ins Berufsleben einsteigen</p>
                </div>
                <div class="card" onclick="showThemes('efz3', 2)">
                    <h3>2. Lehrjahr</h3>
                    <p>Kompetenzen erweitern</p>
                </div>
                <div class="card" onclick="showThemes('efz3', 3)">
                    <h3>3. Lehrjahr</h3>
                    <p>Expertise entwickeln</p>
                </div>
            </div>
            <div class="nav-buttons">
                <button class="nav-btn" onclick="showScreen('efz-choice')">← Zurück</button>
                <button class="nav-btn" onclick="showScreen('start')">Zum Start</button>
            </div>
        </div>
    </div>

    <!-- Theme Screen -->
    <div class="screen" id="themes">
        <div class="container">
            <div class="screen-header">
                <h2 id="themes-title">Themen</h2>
            </div>
            <div class="cards-grid" id="themes-grid">
                <!-- Themes will be inserted dynamically -->
            </div>
            <div class="nav-buttons">
                <button class="nav-btn" onclick="goBack()">← Zurück</button>
                <button class="nav-btn" onclick="showScreen('start')">Zum Start</button>
            </div>
        </div>
    </div>

    <!-- Sprachhandlungen Screen -->
    <div class="screen" id="sprachhandlungen">
        <div class="container">
            <div class="screen-header">
                <h2 id="sprachhandlungen-title">Sprachhandlungen</h2>
                <p style="opacity: 0.8; margin-top: 10px;">Integrierte Kompetenzentwicklung durch authentische Sprachhandlungen</p>
            </div>
            
            <div id="sprachhandlungen-content">
                <!-- Content will be inserted dynamically -->
            </div>

            <div class="nav-buttons">
                <button class="nav-btn" onclick="goBack()">← Zurück</button>
                <button class="nav-btn" onclick="showScreen('start')">Zum Start</button>
            </div>
        </div>
    </div>

    <!-- Dashboard Button -->
    <button class="dashboard-btn" onclick="toggleDashboard()" title="Zirkularitäts-Dashboard">
        ↻
    </button>

    <!-- Dashboard Modal -->
    <div class="dashboard-modal" id="dashboard-modal">
        <div class="dashboard-content">
            <button class="dashboard-close" onclick="toggleDashboard()">×</button>
            <h2 style="color: var(--accent); margin-bottom: 20px;">Zirkularitäts-Dashboard</h2>
            <p style="margin-bottom: 20px;">Übersicht über die spiralförmige Kompetenzentwicklung</p>
            
            <div class="circularity-matrix">
                <table class="circularity-table">
                    <thead>
                        <tr>
                            <th>Sprachhandlung</th>
                            <th>1. Lehrjahr</th>
                            <th>2. Lehrjahr</th>
                            <th>3. Lehrjahr</th>
                            <th>Vernetzung</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Dokumente analysieren</td>
                            <td><span class="circularity-link" title="Betriebliche Dokumente"></span></td>
                            <td><span class="circularity-link" title="Verträge verstehen"></span></td>
                            <td><span class="circularity-link" title="Rechtliche Analysen"></span></td>
                            <td>Recht → Wirtschaft → Politik</td>
                        </tr>
                        <tr>
                            <td>Digital kommunizieren</td>
                            <td><span class="circularity-link" title="E-Mail, Chat"></span></td>
                            <td><span class="circularity-link" title="Kollaboration"></span></td>
                            <td><span class="circularity-link" title="Führung"></span></td>
                            <td>Technologie → Globalisierung</td>
                        </tr>
                        <tr>
                            <td>Finanzplanung</td>
                            <td><span class="circularity-link" title="Budget erstellen"></span></td>
                            <td><span class="circularity-link" title="Investieren"></span></td>
                            <td><span class="circularity-link" title="Vorsorge"></span></td>
                            <td>Wirtschaft → Recht → Ethik</td>
                        </tr>
                        <tr>
                            <td>Argumentieren</td>
                            <td><span class="circularity-link" title="Mündlich"></span></td>
                            <td><span class="circularity-link" title="Schriftlich"></span></td>
                            <td><span class="circularity-link" title="Multimedial"></span></td>
                            <td>Ethik → Politik → Kultur</td>
                        </tr>
                        <tr>
                            <td>Konflikte lösen</td>
                            <td><span class="circularity-link" title="Im Team"></span></td>
                            <td><span class="circularity-link" title="Mit Kunden"></span></td>
                            <td><span class="circularity-link" title="Mediation"></span></td>
                            <td>Identität → Ethik → Recht</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div style="margin-top: 30px;">
                <h3 style="color: var(--accent); margin-bottom: 15px;">Kompetenzvernetzung</h3>
                <p>Jede Sprachhandlung verbindet multiple Kompetenzbereiche:</p>
                <ul style="margin-top: 15px; padding-left: 20px;">
                    <li>🗣️ Sprachliche Kompetenzen entwickeln sich von rezeptiv zu produktiv zu interaktiv</li>
                    <li>💻 Digitale Tools werden progressiv komplexer eingesetzt</li>
                    <li>🌍 Gesellschaftliche Aspekte erweitern sich vom persönlichen zum globalen Kontext</li>
                    <li>🔑 Schlüsselkompetenzen vertiefen sich spiral über alle Lehrjahre</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        let navigationHistory = ['start'];
        let currentEducation = '';
        let currentYear = '';
        let currentTheme = '';

        const themes = {
            'efz3-1': [
                {
                    title: 'Ins Berufsleben einsteigen',
                    description: 'Sich in der Berufslehre orientieren, Beziehungen aufbauen und Verantwortung übernehmen'
                },
                {
                    title: 'Mit Geld umgehen',
                    description: 'Finanzielle Verantwortung übernehmen und Budget planen'
                },
                {
                    title: 'In einer globalisierten Welt leben',
                    description: 'Vielfalt verstehen und interkulturell kommunizieren'
                }
            ]
        };

        const sprachhandlungen = {
            'Ins Berufsleben einsteigen': [
                {
                    title: 'Betriebliche Dokumente verstehen und meine Rechte kennen',
                    lebenskontext: 'Ich finde mich im Betrieb und in der Berufsfachschule zurecht',
                    beschreibung: `Die Lernenden können wichtige betriebliche Dokumente (Lehrvertrag, Arbeitsplan, Hausordnung) lesen und verstehen. 
                    Sie markieren wichtige Stellen mit einfachen digitalen Werkzeugen (PDF-Reader) und erstellen eine persönliche Übersicht ihrer Rechte und Pflichten. 
                    Mit Hilfe von Suchfunktionen finden sie Informationen auf Webseiten wie berufsbildung.ch. 
                    Sie lernen, ihre schulischen E-Mails zu verwalten und den digitalen Kalender für Termine zu nutzen. 
                    Bei Unklarheiten wissen sie, wen sie fragen können und bereiten ihre Fragen schriftlich vor.`,
                    kompetenzen: {
                        sprache: [
                            'Informationen aus digitalen und analogen Quellen gezielt entnehmen und für konkrete Fragen nutzen',
                            'In berufsbezogenen Situationen schriftlich oder mündlich adressatengerecht ausdrücken'
                        ],
                        gesellschaft: [
                            'Eigenes Ausbildungsmodell im Berufsbildungssystem einordnen und Übergänge benennen',
                            'Funktion und Wirkung des Lehrvertrags in konkreten Alltagssituationen anwenden',
                            'Bei Herausforderungen selbstständig geeignete Anlaufstellen auswählen und Unterstützung einholen'
                        ],
                        digital: [
                            'PDF-Dokumente öffnen, lesen und wichtige Stellen markieren',
                            'Schulische E-Mail-Konten und Kalender für die eigene Organisation nutzen',
                            'Mit Suchfunktionen (Ctrl+F) in Dokumenten und auf Webseiten gezielt Informationen finden'
                        ],
                        schluessel: [
                            '3.2.1 - Zwischen relevanten und irrelevanten Quellen und Inhalten unterscheiden',
                            '3.2.8 - Lebensphasen planen und mit Unwägbarkeiten umgehen',
                            '3.2.12 - An gesellschaftlichen Prozessen partizipieren und Handlungsspielräume nutzen'
                        ]
                    },
                    sprachmodi: ['Rezeption schriftlich', 'Produktion mündlich', 'Interaktion mündlich'],
                    aspekte: ['Recht', 'Technologie'],
                    scaffolds: {
                        sprache: ['Lesestruktur-Vorlage', 'Markierhilfen für PDF', 'Satzanfänge für E-Mails', 'Gesprächsbausteine'],
                        digital: ['Tastenkombinationen-Übersicht', 'Screenshot-Anleitung', 'E-Mail-Vorlagen', 'Ordnerstruktur-Beispiel'],
                        gesellschaft: ['Übersicht Berufsbildungssystem', 'Checkliste Rechte/Pflichten', 'Liste wichtiger Anlaufstellen'],
                        schluessel: ['Zeitmanagement-Tools', 'Reflexionsfragen', 'Lernstrategien-Karten']
                    },
                    zirkularitaet: [
                        {
                            thema: 'Mit Geld umgehen',
                            verbindung: 'Dokumentenanalyse wird auf Finanzunterlagen angewendet'
                        },
                        {
                            thema: 'Verantwortung übernehmen (2. Lj)',
                            verbindung: 'Rechte aktiv einfordern, nicht nur kennen'
                        },
                        {
                            thema: 'Arbeitsrecht vertiefen (3. Lj)',
                            verbindung: 'Komplexe Verträge und GAV verstehen'
                        }
                    ]
                },
                {
                    title: 'Mein Budget mit digitalen Hilfsmitteln führen',
                    lebenskontext: 'Ich kann mit meinem Geld umgehen',
                    beschreibung: `Die Lernenden verstehen ihre erste Lohnabrechnung und können die wichtigsten Abzüge erklären. 
                    Sie richten sich eine einfache Budget-App oder Excel-Tabelle ein und erfassen ihre monatlichen Einnahmen und Ausgaben. 
                    Mit Hilfe von Online-Rechnern können sie ausrechnen, wie viel sie sparen müssen für einen Wunsch. 
                    Bei finanziellen Problemen wissen sie, wo sie auf der Gemeinde-Webseite Informationen finden und wie sie per E-Mail 
                    einen Termin für eine Beratung vereinbaren können.`,
                    kompetenzen: {
                        sprache: [
                            'Aus Lohnabrechnungen und Budgetplänen relevante Informationen entnehmen und strukturieren',
                            'Adressatengerechtes schriftliches Feedback zu einem Budgetentwurf verfassen',
                            'Formulare vollständig und korrekt ausfüllen'
                        ],
                        gesellschaft: [
                            'Eigene und zukünftige Lohnabrechnung verstehen und erklären',
                            'Lehrlingslohn und Lebenskosten realistisch budgetieren und Ausgaben abstimmen',
                            'Passende Stelle für finanzielle Unterstützung identifizieren und Schritte einleiten'
                        ],
                        digital: [
                            'Eine Budget-App oder Excel-Tabelle für die eigenen Finanzen einrichten und nutzen',
                            'Online-Rechner für Sparziele oder Budgetberechnungen verwenden',
                            'E-Mails für Terminvereinbarungen korrekt formulieren und versenden'
                        ],
                        schluessel: [
                            '3.2.5 - Eigene Werthaltungen und Überzeugungen erkennen',
                            '3.2.8 - Lebensphasen planen und mit Unwägbarkeiten umgehen',
                            '3.2.12 - An gesellschaftlichen Prozessen partizipieren'
                        ]
                    },
                    sprachmodi: ['Rezeption schriftlich', 'Interaktion schriftlich', 'Produktion schriftlich'],
                    aspekte: ['Recht', 'Technologie'],
                    scaffolds: {
                        sprache: ['Textbausteine für E-Mails', 'Formular-Ausfüllhilfe', 'Feedback-Struktur', 'Höflichkeitsformeln'],
                        digital: ['Excel-Vorlagen', 'App-Vergleichstabelle', 'Online-Rechner-Links', 'Datenschutz-Tipps'],
                        gesellschaft: ['Lohnabrechnung verstehen', 'Budget-Kategorien', 'Beratungsstellen-Übersicht'],
                        schluessel: ['Zielsetzungs-Methoden', 'Prioritäten-Matrix', 'Spar-Strategien']
                    },
                    zirkularitaet: [
                        {
                            thema: 'Ins Berufsleben einsteigen',
                            verbindung: 'Lohnabrechnung als wichtiges Dokument verstehen'
                        },
                        {
                            thema: 'Konsumverhalten reflektieren (2. Lj)',
                            verbindung: 'Bewusste Kaufentscheidungen treffen'
                        },
                        {
                            thema: 'Vorsorge planen (3. Lj)',
                            verbindung: 'Langfristige Finanzplanung und Investitionen'
                        }
                    ]
                }
            ]
        };

        const authenticTasks = {
            'Betriebliche Dokumente verstehen und meine Rechte kennen': [
                {
                    level: 'g',
                    title: 'Meine digitale Dokumentenmappe',
                    description: 'Erstelle einen Ordner auf deinem Computer für deine Lehrdokumente. Speichere deinen Lehrvertrag als PDF und markiere mit dem Textmarker-Tool die wichtigsten Rechte (z.B. Arbeitszeiten, Ferien) in Gelb und Pflichten (z.B. Berufsschule besuchen) in Blau. Erstelle eine Word-Liste mit Links zu hilfreichen Webseiten.'
                },
                {
                    level: 'e',
                    title: 'Rechte-Check mit digitaler Hilfe',
                    description: 'Vergleiche deinen Arbeitsplan mit den Angaben im Lehrvertrag. Nutze die Suchfunktion (Ctrl+F) auf berufsbildung.ch, um Informationen zu Überstunden zu finden. Schreibe eine E-Mail an deine Berufsbildnerin mit konkreten Fragen zu Unklarheiten. Nutze dabei die Rechtschreibprüfung in Word.'
                }
            ],
            'Mein Budget mit digitalen Hilfsmitteln führen': [
                {
                    level: 'g',
                    title: 'Meine erste Budget-App',
                    description: 'Lade dir eine kostenlose Budget-App herunter oder erstelle eine einfache Excel-Tabelle. Trage deine monatlichen Einnahmen (Lohn) und festen Ausgaben (Handy, ÖV-Abo) ein. Setze dir ein Sparziel für etwas, das du dir wünschst, und berechne, wie lange du sparen musst.'
                },
                {
                    level: 'e',
                    title: 'Online-Beratung finden',
                    description: 'Recherchiere auf der Webseite deiner Gemeinde nach Budgetberatung für Jugendliche. Vergleiche zwei Angebote in einer Tabelle (Öffnungszeiten, Kontakt, kostenlos ja/nein). Verfasse eine höfliche E-Mail, um einen Beratungstermin zu vereinbaren. Speichere die Antwort in deinem E-Mail-Ordner "Finanzen".'
                }
            ]
        };

        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
            
            if (screenId !== navigationHistory[navigationHistory.length - 1]) {
                navigationHistory.push(screenId);
            }
        }

        function goBack() {
            if (navigationHistory.length > 1) {
                navigationHistory.pop();
                const previousScreen = navigationHistory[navigationHistory.length - 1];
                showScreen(previousScreen);
            }
        }

        function showThemes(education, year) {
            currentEducation = education;
            currentYear = year;
            const themesKey = `${education}-${year}`;
            const themesData = themes[themesKey] || [];
            
            document.getElementById('themes-title').textContent = `${education.toUpperCase()} - ${year}. Lehrjahr - Themen`;
            
            const themesGrid = document.getElementById('themes-grid');
            themesGrid.innerHTML = '';
            
            themesData.forEach((theme, index) => {
                const card = document.createElement('div');
                card.className = 'card';
                card.onclick = () => showSprachhandlungen(theme.title);
                card.innerHTML = `
                    <h3>${theme.title}</h3>
                    <p>${theme.description}</p>
                `;
                themesGrid.appendChild(card);
            });
            
            showScreen('themes');
        }

        function showSprachhandlungen(themeTitle) {
            currentTheme = themeTitle;
            document.getElementById('sprachhandlungen-title').textContent = `${themeTitle}`;
            
            const content = document.getElementById('sprachhandlungen-content');
            content.innerHTML = '';
            
            const handlungen = sprachhandlungen[themeTitle] || [];
            
            handlungen.forEach((handlung, index) => {
                const container = document.createElement('div');
                container.className = 'sprachhandlung-container';
                
                container.innerHTML = `
                    <div class="sprachhandlung-header">
                        <h3>${handlung.title}</h3>
                        <p style="color: var(--accent); font-size: 0.9rem; margin-top: 5px;">
                            Lebenskontext: ${handlung.lebenskontext}
                        </p>
                    </div>
                    
                    <div class="info-buttons-container">
                        <button class="info-point-btn" onclick="toggleInfoSection(event, 'scaffolds-${index}')">
                            📌 Scaffolds anzeigen
                        </button>
                        <button class="info-point-btn" onclick="toggleInfoSection(event, 'zirkularitaet-${index}')">
                            ↻ Zirkularität anzeigen
                        </button>
                    </div>
                    
                    <div id="scaffolds-${index}" class="scaffolds-section">
                        <h3 style="color: var(--accent);">📌 Scaffolds - Unterstützungsmaterialien</h3>
                        <div class="scaffolds-grid">
                            <div class="scaffold-box">
                                <h4>🗣️ Sprache</h4>
                                <ul>
                                    ${handlung.scaffolds.sprache.map(s => `<li>${s}</li>`).join('')}
                                </ul>
                            </div>
                            <div class="scaffold-box">
                                <h4>💻 Digital</h4>
                                <ul>
                                    ${handlung.scaffolds.digital.map(s => `<li>${s}</li>`).join('')}
                                </ul>
                            </div>
                            <div class="scaffold-box">
                                <h4>🌍 Gesellschaft</h4>
                                <ul>
                                    ${handlung.scaffolds.gesellschaft.map(s => `<li>${s}</li>`).join('')}
                                </ul>
                            </div>
                            <div class="scaffold-box">
                                <h4>🔑 Schlüssel</h4>
                                <ul>
                                    ${handlung.scaffolds.schluessel.map(s => `<li>${s}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div id="zirkularitaet-${index}" class="zirkularitaet-section">
                        <h3 style="color: var(--accent);">↻ Zirkularität - Spiralförmige Verbindungen</h3>
                        <div class="zirkularitaet-items">
                            ${handlung.zirkularitaet.map(z => `
                                <div class="zirkularitaet-item">
                                    <strong>${z.thema}</strong>
                                    <p>${z.verbindung}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div class="sprachhandlung-description">
                        ${handlung.beschreibung}
                    </div>
                    
                    <div class="competence-grid">
                        <div>
                            <button class="competence-button" onclick="toggleCompetence(event, 'sprache-${index}')">
                                <h4>🗣️ Sprache & Kommunikation</h4>
                                <p class="competence-preview">${handlung.kompetenzen.sprache.length} Kompetenzen</p>
                                <span class="expand-icon">▶</span>
                            </button>
                            <div id="sprache-${index}" class="competence-details">
                                <ul class="competence-list">
                                    ${handlung.kompetenzen.sprache.map(k => `<li>${k}</li>`).join('')}
                                </ul>
                                <p class="competence-meta">
                                    Modi: ${handlung.sprachmodi.join(', ')}
                                </p>
                            </div>
                        </div>
                        
                        <div>
                            <button class="competence-button" onclick="toggleCompetence(event, 'digital-${index}')">
                                <h4>💻 Digitale Kompetenzen</h4>
                                <p class="competence-preview">${handlung.kompetenzen.digital.length} Kompetenzen</p>
                                <span class="expand-icon">▶</span>
                            </button>
                            <div id="digital-${index}" class="competence-details">
                                <ul class="competence-list">
                                    ${handlung.kompetenzen.digital.map(k => `<li>${k}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                        
                        <div>
                            <button class="competence-button" onclick="toggleCompetence(event, 'gesellschaft-${index}')">
                                <h4>🌍 Gesellschaft</h4>
                                <p class="competence-preview">${handlung.kompetenzen.gesellschaft.length} Kompetenzen</p>
                                <span class="expand-icon">▶</span>
                            </button>
                            <div id="gesellschaft-${index}" class="competence-details">
                                <ul class="competence-list">
                                    ${handlung.kompetenzen.gesellschaft.map(k => `<li>${k}</li>`).join('')}
                                </ul>
                                <p class="competence-meta">
                                    Aspekte: ${handlung.aspekte.join(', ')}
                                </p>
                            </div>
                        </div>
                        
                        <div>
                            <button class="competence-button" onclick="toggleCompetence(event, 'schluessel-${index}')">
                                <h4>🔑 Schlüsselkompetenzen</h4>
                                <p class="competence-preview">${handlung.kompetenzen.schluessel.length} Kompetenzen</p>
                                <span class="expand-icon">▶</span>
                            </button>
                            <div id="schluessel-${index}" class="competence-details">
                                <ul class="competence-list">
                                    ${handlung.kompetenzen.schluessel.map(k => `<li>${k}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="tasks-section">
                        <h3>✨ Authentische Aufgaben</h3>
                        ${getAuthenticTasks(handlung.title)}
                    </div>
                `;
                
                content.appendChild(container);
            });
            
            showScreen('sprachhandlungen');
        }

        function getAuthenticTasks(handlungTitle) {
            const tasks = authenticTasks[handlungTitle] || [];
            return tasks.map(task => `
                <div class="task-card">
                    <h4>
                        <span class="task-level level-${task.level}">${task.level.toUpperCase()}</span>
                        ${task.title}
                    </h4>
                    <p>${task.description}</p>
                </div>
            `).join('');
        }

        function toggleInfoSection(event, sectionId) {
            event.stopPropagation();
            const button = event.currentTarget;
            const section = document.getElementById(sectionId);
            
            // Toggle active state
            button.classList.toggle('active');
            section.classList.toggle('active');
            
            // Update button text
            if (button.classList.contains('active')) {
                button.innerHTML = button.innerHTML.replace('anzeigen', 'ausblenden');
            } else {
                button.innerHTML = button.innerHTML.replace('ausblenden', 'anzeigen');
            }
        }

        function toggleCompetence(event, detailId) {
            event.stopPropagation();
            const button = event.currentTarget;
            const details = document.getElementById(detailId);
            
            // Toggle active state
            button.classList.toggle('active');
            details.classList.toggle('active');
            
            // Close other open details in the same grid
            const grid = button.closest('.competence-grid');
            const allButtons = grid.querySelectorAll('.competence-button');
            const allDetails = grid.querySelectorAll('.competence-details');
            
            allButtons.forEach((btn) => {
                if (btn !== button) {
                    btn.classList.remove('active');
                }
            });
            
            allDetails.forEach((detail) => {
                if (detail !== details) {
                    detail.classList.remove('active');
                }
            });
        }

        function toggleDashboard() {
            const dashboard = document.getElementById('dashboard-modal');
            dashboard.classList.toggle('active');
        }

        function showTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            
            // Mark the clicked button as active
            event.target.classList.add('active');
        }

        // Close dashboard when clicking outside
        document.getElementById('dashboard-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                toggleDashboard();
            }
        });
    </script>
</body>
</html>